
Правильно писать шапку:
DATA - дата записи файла формата dd/mm/yy (UTC)
DATE-OBS - дата считывания данных с матрицы (начало, середина или конец - указывать в комментарии), dd/mm/yy, UTC
ORIGIN - место записи (SAO RAS, правильно)
INSTRUME - название прибора
CREATOR - название ПО, записавшего файл
EQUINOX - эпоха системы координат, используемой в файле (правильно)
EPOCH - Deprecated

Комментарии, помимо COMMENT, могут просто начинаться с 9 столбца, оставляя первые 8 пустыми
Аналогично для HISTORY
(во всех трех случаях в столбце 9 не должно быть =)


Если данные непонятно в чем (особенно это касается таблиц), нужно использовать ключи:
BUNIT - binary unit (как для изображения, так и для таблиц)
TUNITn - единицы n-го столбца таблицы
см. http://www.lsw.uni-heidelberg.de/iau/units.html

BITPIX:
8   - uint8_t
16  - int16_t  (BZERO=32768 для uint16_t)
32  - int32_t  (BZERO=2147483648 для uint32_t)
-32 - float
-64 - double


EXTEND  =                    T 
этот параметр не обязательно означает наличие "расширений", но если его нет, это гарантирует
отсутствие расширений

Все расширения (изображения, таблицы и т.п.) должны начинаться со слова
XTENSION = [тип] - тип расширения (например, XTENSION= 'TABLE'
далее обязательны BITPIX, NAXIS и NAXIS1, NAXIS2 ...
Если данные отсутствуют, пишем NAXIS1  = 0
Расширению можно дать имя (скажем, таблице):
EXTNAME = 'название'
их можно версионировать (EXTVER) и разделять по иерархии (EXTLEVEL)


ТАБЛИЦЫ: XTENSION='TABLE'
BITPIX=8 (ASCII)
NAXIS=2 (двумерная таблица)
NAXIS1= количество символов в строке таблицы (все столбцы)
NAXIS2= количество строк
PCOUNT=0 (ASCII)
GCOUNT=1
TFIELDS= количество столбцов


